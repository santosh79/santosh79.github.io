<!doctype html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="/css/main.css">
    <link rel="alternate" type="application/atom+xml" title="Curry Functions in JS - feed" href="/index.xml" />

    <script type="text/javascript">
      if((navigator.userAgent.match(/iPad/i))) {
        document.write("<meta name=\"viewport\" content=\"width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;\" />");
      } else if((navigator.userAgent.match(/iPhone/i))) {
        document.write("<meta name=\"viewport\" content=\"width=device-width; initial-scale=0.5; maximum-scale=1.0; user-scalable=1;\" />");
      }
    </script>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/> 
    <title>Curry Functions in JS</title>
  </head>
  <body>
    <header id="main_header">
      <span>
        <a href="/">blog</a>
      </span>
      <span>
        <a href="http://santosh79.tumblr.com" target="_blank">tumblog</a>
      </span>
      <span>
        <a href="http://github.com/santosh79/" target="_blank">github</a>
      </span>
      <span>
        <a href="http://twitter.com/santosh79" target="_blank">@santosh79</a>
      </span>
      <span>
        <a href="/images/resume.html">resume</a>
      </span>
    </header>
    <section>
      <article class="post">
  <header>
    <div class="date_article_page">December 22nd 2013</div>
    <h1>Curry Functions in JS</h1>
  </header>

  <section class="content">
    <h3>TL;DR</h3>

<p>Returning a function from a function creates magic.</p>

<h3>Down the rabbit hole</h3>

<p>One of the foundations on which most of functional programming is built is <em>partial</em> or <em>curried</em> functions. An example is better than a thousand words, so here goes (this one&rsquo;s from the <a href="http://underscorejs.org/#partial">Underscore Docs</a>)</p>

<pre><code>var add = function(a,b) { return a + b; }
var add5 = _.partial(add, 5);
var fourTwenty = add5(415); //Add 5 to 415
</code></pre>

<p>Here we are using underscore&rsquo;s partial implementation. What&rsquo;s going on here? So, here we have an add function that adds two numbers. And an add5 function that would add5 to any number it receives. This would give you an intuitive idea of what&rsquo;s going on &ndash; add5 is basically a copy of the add function with 5 set as the first argument. Think of it as:</p>

<pre><code>var add5 = add(5, &lt;second-argument-will-come-later&gt;);
</code></pre>

<p>And then when we call:</p>

<pre><code>add5(10); // 10 is the &lt;second-argument-will-come-later&gt;
</code></pre>

<h3>A better real world example</h3>

<p>While add5 does a pretty good job explaining partial application, a better example is needed to convince us of the benefits of curried functions. In real world JS we go about setting defered function execution like so:</p>

<pre><code>setTimeout(function() {
    console.log('Hey!');
}, 10);
</code></pre>

<p>So, the anonymous function executes in 10 ms. It would be a lot cleaner if we could do something like:</p>

<pre><code>runIn10(function() { console.log('Hey!'); });
</code></pre>

<p>Here <em>runIn10</em> makes it clearer that we want the function to execute after 10ms. So how do we go about building this <em>runIn10</em> function? Following through on the partial application discussion with add5 we expect runIn10 to look something like:</p>

<pre><code>var runIn10 = setTimeout(&lt;a-function-will-go-here&gt;, 10);
</code></pre>

<p>And then when we call:</p>

<pre><code>runIn10(function() { console.log('Hey'); });
</code></pre>

<p>The anonymous function takes the place of &lt;a-function-will-go-here>.</p>

<p>How do we build something like this? One solution would look like:</p>

<pre><code>var runsLater = function(runAfterTime) {
    return function(func) {
        setTimeout(func, runAfterTime);
    }
}
</code></pre>

<p>Here runsLater is a function that takes a <em>runAfterTime</em> argument and returns another function that will take as argument the function to be executed after <em>runAfterTime</em>. So quick example of usage is:</p>

<pre><code>var runsIn10Seconds = runsLater(10*1000);
runsIn10Seconds(function() {
    console.log("I am running 10 seconds later, son!");
});
</code></pre>

<p>And so on:</p>

<pre><code>var runIn20Seconds = runsLater(20*1000);
</code></pre>

  </section>

  <section class="comments">

    <div id="disqus_thread"></div>
    <script type='text/javascript' src='http://santosh-log.disqus.com/embed.js'></script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>


  </section>
</article>

 
    </section>
  
  
  
  
  
  
  </body>
</html>

